(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6aa9"],{"1daa":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addBusinessVoucher"},[r("addBusinessVoucher")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1"},[r("h3",[e._v("Partner User! Hallo "+e._s(this.user.name)+" - hier kannst du deine Gutscheine erstellen! ")]),r("b-form",{staticClass:"text-center border border-primary p-5",staticStyle:{"margin-top":"70px",height:"auto","padding-top":"100px !important"},on:{submit:function(t){return t.preventDefault(),e.addBusinessVoucher.apply(null,arguments)}}},[r("b-form-select",{attrs:{id:"category",options:e.voucher.options},model:{value:e.voucher.selectedCategory,callback:function(t){e.$set(e.voucher,"selectedCategory",t)},expression:"voucher.selectedCategory"}}),r("div",{staticClass:"mt-3"},[e._v("Selected: "),r("strong",[e._v(e._s(e.voucher.selectedCategory))])]),r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"name",placeholder:"Gutschein-Name z.B. Buch 20€"},model:{value:e.voucher.name,callback:function(t){e.$set(e.voucher,"name",t)},expression:"voucher.name"}}),r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"price",placeholder:"Gutschein-Wert",required:""},model:{value:e.voucher.price,callback:function(t){e.$set(e.voucher,"price",t)},expression:"voucher.price"}}),r("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"expiryDate"},model:{value:e.voucher.expiryDate,callback:function(t){e.$set(e.voucher,"expiryDate",t)},expression:"voucher.expiryDate"}}),r("p",[e._v("Value: '"+e._s(e.voucher.expiryDate)+"'")]),r("p",[r("center",[r("button",{staticClass:"btn btn-primary btn-block w-75 my-4",attrs:{type:"submit"}},[e._v(" Gutschein gnerieren! ")])])],1)],1)],1)])])},n=[],c=r("1940"),l=r.n(c),i=r("bc3a"),u=r.n(i),d=r("48ac"),h=r.n(d),p={data(){return{voucher:{selectedCategory:null,options:[{value:null,text:"Um welchen Gutschein Kategorie handelt es sich"},{value:"1",text:"Massage"},{value:"2",text:"Bücher"},{value:"3",text:"Kultur"},{value:"4",text:"Basteln"},{value:"5",text:"Sport"}],expiryDate:"",name:"",price:"",userId:""}}},methods:{async addBusinessVoucher(){try{let e=localStorage.getItem("jwt"),t=this.user._id;this.voucher.userId=t;let r=await this.$http.post("/voucher/addBusinessVoucher",this.voucher,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});if(r){let e=r.data.data._id;const a=new FormData;a.append("voucherId",e),a.append("url",window.location.host),u.a.post("/qr",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),e.data?console.log("QR-Code was Generate"):console.log("Problem by generate QR-Code")})),this.$router.push("/company/"+e+"/userid/"+t)}else l()("Error","Gutschein - Error2","Error")}catch(e){l()("Error","Gutschein - Error1","error"),console.log(e.response)}}},created(){let e=localStorage.getItem("jwt"),t=h.a.decode(e);this.user=t}},v=p,m=r("2877"),b=Object(m["a"])(v,o,n,!1,null,null,null),y=b.exports,f={components:{addBusinessVoucher:y}},g=f,x=Object(m["a"])(g,a,s,!1,null,null,null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-2d0b6aa9.f5e7768d.js.map