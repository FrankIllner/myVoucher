(function(e){function t(t){for(var s,o,i=t[0],l=t[1],u=t[2],c=0,p=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(s=!1)}s&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var s={},n={app:0},a=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0b6aa9":"5f990759","chunk-2d0c4873":"7ed9a961","chunk-4aff8800":"5dd005a9"}[e]+".js"}function i(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,s){r=n[e]=[t,s]}));t.push(r[2]=s);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=o(e);var u=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(c);var r=n[e];if(0!==r){if(r){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+a+")",u.name="ChunkLoadError",u.type=s,u.request=a,r[1](u)}n[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(r,s,function(t){return e[t]}.bind(null,s));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},2838:function(e,t,r){"use strict";r("b8af")},"4ffd":function(e,t,r){e.exports=r.p+"img/logo.83281f49.png"},"56d7":function(e,t,r){"use strict";r.r(t);var s=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Header"),r("div",{staticClass:"wrapper"},[r("router-view")],1),r("Footer")],1)},a=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",{staticClass:"full-container"},[r("Nav")],1)},i=[],l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("b-navbar",{attrs:{toggleable:"lg",type:"dark"}},[s("b-navbar-brand",{staticClass:"logo",attrs:{href:"/"}},[s("img",{attrs:{src:r("4ffd")}})]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{href:"/my-wallet"}},[e._v("Dein Wallet")])],1),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",{staticClass:"highligting",attrs:{href:"/register-business"}},[e._v("Partner werden")]),s("b-nav-item-dropdown",{attrs:{text:"Lang",right:""}},[s("b-dropdown-item",{attrs:{href:"#"}},[e._v("EN")])],1),s("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("b",[e._v("User")])]},proxy:!0}])},[s("b-dropdown-item",{attrs:{href:"/add-business-voucher"}},[e._v("Busniness Partner! Dein Gutschein hier hinterlgen")]),s("b-dropdown-item",{attrs:{href:"/add-user-voucher"}},[e._v("Normaler User! Dein Gutschein hier hinterlgen")]),s("b-dropdown-item",{attrs:{href:"/profile"}},[e._v("Dein Profile")]),s("b-dropdown-item",{attrs:{href:"/verwaltung"}},[e._v("Verwaltung")]),s("b-dropdown-item",{attrs:{href:"#"},on:{click:e.logUserOut}},[e._v("Logout")])],1)],1)],1)],1)],1)},u=[],c={methods:{logUserOut(){localStorage.removeItem("jwt"),this.$router.push("/")}}},d=c,p=(r("99ee"),r("2877")),m=Object(p["a"])(d,l,u,!1,null,null,null),h=m.exports,g={components:{Nav:h}},v=g,f=(r("7a39"),Object(p["a"])(v,o,i,!1,null,"76ccd608",null)),b=f.exports,_=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},y=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("footer",{staticClass:"full-container"},[r("ul",{staticClass:"container"},[r("li",[r("a",{attrs:{href:"/about"}},[e._v("Über uns ")])]),r("li",[r("a",{attrs:{href:"/about"}},[e._v("Kontakt ")])]),r("li",[r("a",{attrs:{href:"/about"}},[e._v("AGB ")])]),r("li",[r("a",{attrs:{href:"/about"}},[e._v("Impressum ")])])])])}],w=(r("2838"),{}),C=Object(p["a"])(w,_,y,!1,null,"479f44c8",null),x=C.exports,B={components:{Header:b,Footer:x}},k=B,S=Object(p["a"])(k,n,a,!1,null,null,null),j=S.exports,$=r("8c4f"),E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",[r("div",{staticClass:"container mt-5"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("ul",{staticClass:"list-group cards"},[r("h2",[e._v("Alle Gutscheine")]),e._v(" "+e._s(this.allVouchers)+" "),e._l(e.allVouchers,(function(t){return r("li",{key:t._id,staticClass:"list-group-item"},[r("b",[e._v(e._s(t.name))]),r("span",[e._v(e._s(t.price))]),r("span",[e._v(e._s(t.fromPerson))]),r("span",[e._v(e._s(t.expiryDate))]),e._l(t.file1,(function(e){return r("span",{key:e},[r("img",{attrs:{src:"'http://localhost:3344/images/' ${file}"}})])}))],2)}))],2),r("ul",{staticClass:"list-group"},[r("h2",[e._v("Meine Gutscheine")]),r("li",{staticClass:"list-group-item"},[e._v("Name : "+e._s(e.user.name))]),r("li",{staticClass:"list-group-item"},[e._v("Email : "+e._s(e.user.email)+" ")])]),r("li",[e._v(e._s(e.user.usertype))]),"registerBusiness"==e.user.usertype?r("div",[r("p",[e._v("Füge weitere Gutscheine von deinem Unternehmen hinzu!")]),r("router-link",{attrs:{to:"/add-business-voucher"}},[e._v("Klicke hier!")])],1):r("div",[r("p",[e._v("Füge weitere deiner privaten Gutscheine hinzu!")]),r("router-link",{attrs:{to:"/add-user-voucher"}},[e._v("Klicke hier!")])],1)])])])])])},N=[],P=r("48ac"),O=r.n(P),q={data(){return{user:{},allVouchers:[]}},methods:{async getUserDetails(){let e=localStorage.getItem("jwt"),t=O.a.decode(e);this.user=t;try{let t=await this.$http.post("/voucher/getAllVouchers",{},{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});t&&(console.log("test"),console.log(t.data.data),this.allVouchers=t.data.data)}catch(r){console.log(r)}}},created(){console.log("Home.vue"),this.getUserDetails()}},A=q,L=Object(p["a"])(A,E,N,!1,null,null,null),U=L.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},G=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("h1",[e._v("This is an about page")])])}],T={},I=Object(p["a"])(T,D,G,!1,null,null,null),V=I.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-main"},[r("div",{staticClass:"container"},[r("Start")],1)])},z=[],F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",[e._v("Hallo, hier steht eine Erklärung - wer wir sind und was wir machen! ")]),r("span",[e._v("Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, ")]),r("Login"),r("h3",[e._v("Hier kurze Erklärung zum Partner Status - bieten Sie Gutscheine hier an und profitieren Sie!!")]),r("span",[e._v(" Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, ")]),r("div",{staticClass:"button center"},[r("router-link",{attrs:{to:"/register-business"}},[e._v("Partner werden")])],1)],1)},H=[],M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"login-container"},[r("b-form",{staticClass:"text-center border p-2 mb-4",staticStyle:{"margin-top":"70px",height:"auto","padding-top":"30px !important"},on:{submit:function(t){return t.preventDefault(),e.loginUser.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.email,expression:"login.email"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"email",placeholder:"Email",required:""},domProps:{value:e.login.email},on:{input:function(t){t.target.composing||e.$set(e.login,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.login.password,expression:"login.password"}],staticClass:"form-control mb-5",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:e.login.password},on:{input:function(t){t.target.composing||e.$set(e.login,"password",t.target.value)}}}),r("center",[r("button",{staticClass:"btn btn-primary btn-block w-75 my-4",attrs:{type:"submit"}},[e._v(" Sign in ")])]),r("div",[r("span",[e._v("Bist du schon Registriert?")]),r("p",[e._v("Wenn nicht - dann melde dich schnell an!")]),r("router-link",{attrs:{to:"/register"}},[e._v("Klicke Hier!")])],1)],1)],1)])])},K=[],R=r("1940"),J=r.n(R),Z={data(){return{login:{email:"",password:""}}},methods:{async loginUser(){try{let e=await this.$http.post("/user/login",this.login),t=e.data.token,r=e.data.user.usertype;localStorage.setItem("jwt",t),t&&(J()("Success","Login Successful","Error"),"registerBusiness"==r?this.$router.push("/register-additional"):this.$router.push("/my-wallet/"))}catch(e){J()("Error","Something Went Wrong","error"),console.log(e.response)}}}},Q=Z,X=(r("e5a5"),Object(p["a"])(Q,M,K,!1,null,"52977fa5",null)),Y=X.exports,ee={components:{Login:Y}},te=ee,re=(r("bb43"),Object(p["a"])(te,F,H,!1,null,"91117ab6",null)),se=re.exports,ne={components:{Start:se}},ae=ne,oe=Object(p["a"])(ae,W,z,!1,null,null,null),ie=oe.exports,le=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-business"},[r("registerAdditonal")],1)},ue=[],ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("h3",{staticClass:"center-text"},[e._v("Um Partner bei uns zu werden, benötigen wir noch folgende Daten: ")]),r("div",{staticClass:"col-lg-8 offset-lg-2 col-sm-10 offset-sm-1"},[r("form",{staticClass:"text-center border border-primary p-5",staticStyle:{"margin-top":"70px",height:"auto","padding-top":"100px !important"},on:{submit:function(t){return t.preventDefault(),e.registerUserBusiness.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.company,expression:"registerB.company"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"Firma",placeholder:"Firmen Name",required:""},domProps:{value:e.registerB.company},on:{input:function(t){t.target.composing||e.$set(e.registerB,"company",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.street,expression:"registerB.street"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"street",placeholder:"Straße",required:""},domProps:{value:e.registerB.street},on:{input:function(t){t.target.composing||e.$set(e.registerB,"street",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.streetNo,expression:"registerB.streetNo"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"streetNo",placeholder:"Straßen Nr.",required:""},domProps:{value:e.registerB.streetNo},on:{input:function(t){t.target.composing||e.$set(e.registerB,"streetNo",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.postcode,expression:"registerB.postcode"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"postcode",placeholder:"PLZ",required:""},domProps:{value:e.registerB.postcode},on:{input:function(t){t.target.composing||e.$set(e.registerB,"postcode",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.city,expression:"registerB.city"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"city",placeholder:"Stadt",required:""},domProps:{value:e.registerB.city},on:{input:function(t){t.target.composing||e.$set(e.registerB,"city",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.phone,expression:"registerB.phone"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"phone",placeholder:"Telefon",required:""},domProps:{value:e.registerB.phone},on:{input:function(t){t.target.composing||e.$set(e.registerB,"phone",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.registerB.businessNo,expression:"registerB.businessNo"}],staticClass:"form-control mb-5",attrs:{type:"text",id:"businessNo",placeholder:"Gewerbenummer",required:""},domProps:{value:e.registerB.businessNo},on:{input:function(t){t.target.composing||e.$set(e.registerB,"businessNo",t.target.value)}}}),r("p",[r("center",[r("button",{staticClass:"btn btn-primary btn-block w-75 my-4",attrs:{type:"submit"}},[e._v(" Sign in ")])])],1),r("div",[r("p",[e._v("Sind Sie bei uns schon Partner? Wenn ja, dann Log Dich hier ein!")]),r("router-link",{attrs:{to:"/"}},[e._v("Klicke hier!")])],1)])])])])},de=[],pe={data(){return{registerB:{company:"",street:"",streetNo:"",postcode:"",city:"",phone:"",businessNo:"",userId:""}}},methods:{async registerUserBusiness(){try{let e=localStorage.getItem("jwt"),t=O.a.decode(e);this.user=t;let r=this.user._id;this.registerB.userId=r;let s=await this.$http.post("/user/registerBusiness",this.registerB,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});console.log(s),s?(this.$router.push("/my-wallet"),J()("Success","Registration Was successful","success")):J()("Error","Something Went Wrong","Error")}catch(e){let t=e.response;J()("Error",t.data.message,"error"),409==t.status?J()("Error",t.data.message,"error"):J()("Error",t.data.err.message,"error")}}}},me=pe,he=Object(p["a"])(me,ce,de,!1,null,null,null),ge=he.exports,ve={components:{registerAdditonal:ge}},fe=ve,be=Object(p["a"])(fe,le,ue,!1,null,null,null),_e=be.exports;s["default"].use($["a"]);const ye=[{path:"/my-wallet",name:"MyVoucher",component:U,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:V,meta:{requiresAuth:!0}},{path:"/",name:"Start",component:ie},{path:"/register-additional",name:"registerBusinessAdditional",component:_e,meta:{requiresAuth:!0}},{path:"/register-business",name:"registerBusiness",component:()=>r.e("chunk-2d0c4873").then(r.bind(null,"3ae4")),props:{user:"business"}},{path:"/register",name:"registerCustomer",component:()=>r.e("chunk-2d0c4873").then(r.bind(null,"3ae4")),props:{user:"user"}},{path:"/add-user-voucher",name:"voucher",component:()=>r.e("chunk-4aff8800").then(r.bind(null,"4e9f")),meta:{requiresAuth:!0}},{path:"/add-business-voucher",name:"businessVoucher",component:()=>r.e("chunk-2d0b6aa9").then(r.bind(null,"1daa")),meta:{requiresAuth:!0}}],we=new $["a"]({mode:"history",base:"/",routes:ye});we.beforeEach((e,t,r)=>{e.matched.some(e=>e.meta.requiresAuth)&&null==localStorage.getItem("jwt")?r({path:"/"}):r()});var Ce=we,xe=r("bc3a"),Be=r.n(xe),ke=r("5f5b"),Se=r("b1e0");r("f9e3"),r("2dd8"),r("7e7d");s["default"].use(ke["a"]),s["default"].use(Se["a"]);const je=Be.a.create({baseURL:"http://localhost:4000"});s["default"].prototype.$http=je,s["default"].config.productionTip=!1,new s["default"]({router:Ce,render:e=>e(j)}).$mount("#app")},6693:function(e,t,r){},"69a8":function(e,t,r){},7025:function(e,t,r){},"7a39":function(e,t,r){"use strict";r("d646")},"7e7d":function(e,t,r){},"99ee":function(e,t,r){"use strict";r("6693")},b8af:function(e,t,r){},bb43:function(e,t,r){"use strict";r("7025")},d646:function(e,t,r){},e5a5:function(e,t,r){"use strict";r("69a8")}});
//# sourceMappingURL=app.36262d1a.js.map