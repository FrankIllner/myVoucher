{"version":3,"sources":["webpack:///./src/pages/secure/AddVoucher.vue?f673","webpack:///./src/components/profil/Voucher.vue?ba0d","webpack:///src/components/profil/Voucher.vue","webpack:///./src/components/profil/Voucher.vue?5ae9","webpack:///./src/components/profil/Voucher.vue","webpack:///src/pages/secure/AddVoucher.vue","webpack:///./src/pages/secure/AddVoucher.vue?acbc","webpack:///./src/pages/secure/AddVoucher.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","_s","user","name","staticStyle","on","$event","preventDefault","addvoucher","apply","arguments","attrs","voucher","options","model","value","callback","$$v","$set","expression","selectedCategory","expiryDate","components","MultipleUpload","data","text","price","fromPerson","file1","userId","methods","token","localStorage","getItem","filename","d","Date","tag","getDate","monat","getMonth","jahr","getFullYear","stunde","getHours","minuten","getMinutes","currrentDate","console","cryptFilename","push","response","$http","post","headers","$root","$refs","MultipleUploads","sendFile","$router","swal","created","component"],"mappings":"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","file":"js/chunk-2d0cc6b4.090fd49f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addvoucher\"},[_c('addvoucher')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1\"},[_c('h3',[_vm._v(\"Hallo \"+_vm._s(this.user.name))]),_c('b-form',{staticClass:\"text-center border border-primary p-5\",staticStyle:{\"margin-top\":\"70px\",\"height\":\"auto\",\"padding-top\":\"100px !important\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.addvoucher.apply(null, arguments)}}},[_c('b-form-select',{attrs:{\"id\":\"category\",\"options\":_vm.voucher.options},model:{value:(_vm.voucher.selectedCategory),callback:function ($$v) {_vm.$set(_vm.voucher, \"selectedCategory\", $$v)},expression:\"voucher.selectedCategory\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"Selected: \"),_c('strong',[_vm._v(_vm._s(_vm.voucher.selectedCategory))])]),_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"Gutschein-Name z.B. Buch 20€\"},model:{value:(_vm.voucher.name),callback:function ($$v) {_vm.$set(_vm.voucher, \"name\", $$v)},expression:\"voucher.name\"}}),_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"price\",\"placeholder\":\"Gutschein-Wert\",\"required\":\"\"},model:{value:(_vm.voucher.price),callback:function ($$v) {_vm.$set(_vm.voucher, \"price\", $$v)},expression:\"voucher.price\"}}),_c('b-form-datepicker',{staticClass:\"mb-2\",attrs:{\"id\":\"expiryDate\"},model:{value:(_vm.voucher.expiryDate),callback:function ($$v) {_vm.$set(_vm.voucher, \"expiryDate\", $$v)},expression:\"voucher.expiryDate\"}}),_c('p',[_vm._v(\"Value: '\"+_vm._s(_vm.voucher.expiryDate)+\"'\")]),_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"fromPerson\",\"placeholder\":\"erhalten von z.B. Mama\"},model:{value:(_vm.voucher.fromPerson),callback:function ($$v) {_vm.$set(_vm.voucher, \"fromPerson\", $$v)},expression:\"voucher.fromPerson\"}}),_c('MultipleUpload'),_c('p',[_c('center',[_c('button',{staticClass:\"btn btn-primary btn-block w-75 my-4\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Gutschein speichern \")])])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1\">\r\n        <h3>Hallo {{this.user.name}}</h3>\r\n        <b-form\r\n          class=\"text-center border border-primary p-5\"\r\n          style=\"margin-top:70px;height:auto;padding-top:100px !important;\"\r\n          @submit.prevent=\"addvoucher\"\r\n        >\r\n          <b-form-select id=\"category\" v-model=\"voucher.selectedCategory\" :options=\"voucher.options\"></b-form-select>\r\n          <div class=\"mt-3\">Selected: <strong>{{ voucher.selectedCategory }}</strong></div>\r\n          \r\n          <b-input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"Gutschein-Name z.B. Buch 20€\"\r\n            v-model=\"voucher.name\"\r\n            \r\n          />\r\n          <b-input\r\n            type=\"text\"\r\n            id=\"price\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"Gutschein-Wert\"\r\n            v-model=\"voucher.price\"\r\n            required\r\n          />\r\n          <b-form-datepicker id=\"expiryDate\" v-model=\"voucher.expiryDate\" class=\"mb-2\"></b-form-datepicker>\r\n          <p>Value: '{{ voucher.expiryDate }}'</p>\r\n\r\n          <b-input\r\n            type=\"text\"\r\n            id=\"fromPerson\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"erhalten von z.B. Mama\"\r\n            v-model=\"voucher.fromPerson\"\r\n          />\r\n\r\n        <MultipleUpload />\r\n         \r\n          <p>\r\n            <center>\r\n            <button class=\"btn btn-primary btn-block w-75 my-4\" type=\"submit\">\r\n                Gutschein speichern\r\n            </button>\r\n            </center>\r\n          </p>\r\n           \r\n        </b-form>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from \"sweetalert\";\r\nimport VueJwtDecode from \"vue-jwt-decode\";\r\n//import Upload from '../forms/upload.vue';\r\nimport MultipleUpload from '../forms/MultipleUpload.vue';\r\nexport default {\r\n  components: { MultipleUpload },\r\n  data() {\r\n    return {\r\n      voucher: {\r\n        selectedCategory: null,\r\n         options: [\r\n          { value: null, text: 'Um welchen Gutschein Kategorie handelt es sich' },\r\n          { value: '1', text: 'Massage' },\r\n          { value: '2', text: 'Bücher' },\r\n          { value: '3', text: 'Kultur' },\r\n        ],\r\n        expiryDate: \"\",\r\n        name: \"\",\r\n        price: \"\",\r\n        fromPerson: \"\",\r\n        file1: [],\r\n        userId: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async addvoucher() {\r\n      try {\r\n        let token = localStorage.getItem(\"jwt\");\r\n      \r\n        // Komponente forms/multipleUpload Methode Aufruf Callback //!! Umbennen\r\n        let filename =  this.$root.$refs.MultipleUploads.validateFiles();\r\n\r\n        // user ID primary Key hinterlegen\r\n        this.voucher.userId  = this.user._id;\r\n\r\n        // eindeutigen Bildnamen generieren\r\n        var d = new Date();\r\n        var tag = d.getDate();\r\n        var monat = d.getMonth() + 1;\r\n        var jahr = d.getFullYear();\r\n        var stunde = d.getHours();\r\n        var minuten = d.getMinutes();\r\n        let currrentDate = tag+monat+jahr+stunde+minuten;\r\n      \r\n        // Bildnamen hinzufügen multiple\r\n        filename.forEach((value, index) => {\r\n          console.log(value);\r\n          console.log(index);\r\n          let cryptFilename = currrentDate + '-' + value;\r\n          this.voucher.file1.push(cryptFilename);\r\n        });\r\n        \r\n        let response = await this.$http.post(\"/voucher/addUsersVoucher\", this.voucher, {headers: {\r\n            'Authorization': 'Bearer ' + token,\r\n            'Content-Type': 'application/json',\r\n          }},\r\n        );\r\n     \r\n        //let token = response.data.token;\r\n        // Todo pruefen ob response ok ist\r\n        if (response) {\r\n          \r\n          // Single MultipleUpload\r\n          this.$root.$refs.MultipleUploads.sendFile();\r\n          this.$router.push(\"/my-wallet/\");\r\n          \r\n        } else {\r\n          swal(\"Error\", \"Gutschein - Error2\", \"Error\");\r\n        }\r\n      } catch (err) {\r\n        swal(\"Error\", \"Gutschein - Error1\", \"error\");\r\n        console.log(err.response);\r\n      }\r\n    },\r\n  },\r\n   created() {\r\n        let token = localStorage.getItem(\"jwt\");\r\n        let decoded = VueJwtDecode.decode(token);\r\n        this.user = decoded;\r\n    },\r\n\r\n};\r\n</script>\r\n\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voucher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voucher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Voucher.vue?vue&type=template&id=4cfcc6df&\"\nimport script from \"./Voucher.vue?vue&type=script&lang=js&\"\nexport * from \"./Voucher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"addvoucher\">\r\n    <addvoucher />\r\n  </div>\r\n</template>\r\n<script>\r\nimport addvoucher from \"@/components/profil/Voucher\";\r\n\r\nexport default {\r\n  components: {\r\n    addvoucher\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddVoucher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddVoucher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddVoucher.vue?vue&type=template&id=37c33b45&\"\nimport script from \"./AddVoucher.vue?vue&type=script&lang=js&\"\nexport * from \"./AddVoucher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}