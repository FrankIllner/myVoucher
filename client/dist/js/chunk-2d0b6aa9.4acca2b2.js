(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b6aa9"],{"1daa":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addBusinessVoucher"},[r("addBusinessVoucher")],1)},s=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1 mt-3"},[r("h3",[e._v("Partner User! Hallo "+e._s(this.user.name)+" - hier kannst du deine Gutscheine erstellen! ")]),r("b-form",{staticClass:"text-center border p-5 mt-5",on:{submit:function(t){return t.preventDefault(),e.addBusinessVoucher.apply(null,arguments)}}},[r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"name",placeholder:"Gutschein-Name z.B. Buch 20â‚¬"},model:{value:e.voucher.name,callback:function(t){e.$set(e.voucher,"name",t)},expression:"voucher.name"}}),r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"price",placeholder:"Gutschein-Wert",required:""},model:{value:e.voucher.price,callback:function(t){e.$set(e.voucher,"price",t)},expression:"voucher.price"}}),r("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"expiryDate"},model:{value:e.voucher.expiryDate,callback:function(t){e.$set(e.voucher,"expiryDate",t)},expression:"voucher.expiryDate"}}),r("p",[e._v("Value: '"+e._s(e.voucher.expiryDate)+"'")]),r("p",[r("center",[r("button",{staticClass:"btn btn-primary btn-block w-75 my-4",attrs:{type:"submit"}},[e._v(" Gutschein gnerieren! ")])])],1)],1)],1)])])},n=[],i=r("1940"),c=r.n(i),l=r("bc3a"),u=r.n(l),d=r("48ac"),p=r.n(d),h={data(){return{voucher:{expiryDate:"",name:"",price:"",userId:""}}},methods:{async addBusinessVoucher(){try{let e=localStorage.getItem("jwt"),t=this.user._id;this.voucher.userId=t;let r=await this.$http.post("/voucher/addBusinessVoucher",this.voucher,{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});if(r){let a=r.data.data._id;const s=new FormData;s.append("voucherId",a),s.append("url",window.location.host),u.a.post("/qr",s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data?console.log("QR-Code was Generate"):console.log("Problem by generate QR-Code")}));let o=await this.$http.post("/user/getAdditionalId",{userId:t},{headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}});if(o){let e=o.data.o_additional[0].additionalId;this.$router.push("/company/"+e+"/userid/"+t)}}else c()("Error","Gutschein - Error2","Error")}catch(e){c()("Error","Gutschein - Error1","error"),console.log(e.response)}}},created(){let e=localStorage.getItem("jwt"),t=p.a.decode(e);this.user=t}},m=h,v=r("2877"),b=Object(v["a"])(m,o,n,!1,null,null,null),f=b.exports,y={components:{addBusinessVoucher:f}},w=y,x=Object(v["a"])(w,a,s,!1,null,null,null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-2d0b6aa9.4acca2b2.js.map