(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cc6b4"],{"4e9f":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"addvoucher"},[r("addvoucher")],1)},s=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1"},[r("h3",[e._v("Hallo "+e._s(this.user.name))]),r("b-form",{staticClass:"text-center border border-primary p-5",staticStyle:{"margin-top":"70px",height:"auto","padding-top":"100px !important"},on:{submit:function(t){return t.preventDefault(),e.addvoucher.apply(null,arguments)}}},[r("b-form-select",{attrs:{id:"category",options:e.voucher.options},model:{value:e.voucher.selectedCategory,callback:function(t){e.$set(e.voucher,"selectedCategory",t)},expression:"voucher.selectedCategory"}}),r("div",{staticClass:"mt-3"},[e._v("Selected: "),r("strong",[e._v(e._s(e.voucher.selectedCategory))])]),r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"name",placeholder:"Gutschein-Name z.B. Buch 20€"},model:{value:e.voucher.name,callback:function(t){e.$set(e.voucher,"name",t)},expression:"voucher.name"}}),r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"price",placeholder:"Gutschein-Wert",required:""},model:{value:e.voucher.price,callback:function(t){e.$set(e.voucher,"price",t)},expression:"voucher.price"}}),r("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"expiryDate"},model:{value:e.voucher.expiryDate,callback:function(t){e.$set(e.voucher,"expiryDate",t)},expression:"voucher.expiryDate"}}),r("p",[e._v("Value: '"+e._s(e.voucher.expiryDate)+"'")]),r("b-input",{staticClass:"form-control mb-5",attrs:{type:"text",id:"fromPerson",placeholder:"erhalten von z.B. Mama"},model:{value:e.voucher.fromPerson,callback:function(t){e.$set(e.voucher,"fromPerson",t)},expression:"voucher.fromPerson"}}),r("MultipleUpload"),r("p",[r("center",[r("button",{staticClass:"btn btn-primary btn-block w-75 my-4",attrs:{type:"submit"}},[e._v(" Gutschein speichern ")])])],1)],1)],1)])])},l=[],c=r("1940"),n=r.n(c),i=r("48ac"),u=r.n(i),h=r("6992"),p={components:{MultipleUpload:h["a"]},data(){return{voucher:{selectedCategory:null,options:[{value:null,text:"Um welchen Gutschein Kategorie handelt es sich"},{value:"1",text:"Massage"},{value:"2",text:"Bücher"},{value:"3",text:"Kultur"}],expiryDate:"",name:"",price:"",fromPerson:"",file1:[],userId:""}}},methods:{async addvoucher(){try{let l=localStorage.getItem("jwt"),c=this.$root.$refs.MultipleUploads.validateFiles();this.voucher.userId=this.user._id;var e=new Date,t=e.getDate(),r=e.getMonth()+1,o=e.getFullYear(),s=e.getHours(),a=e.getMinutes();let i=t+r+o+s+a;c.forEach((e,t)=>{console.log(e),console.log(t);let r=i+"-"+e;this.voucher.file1.push(r)});let u=await this.$http.post("/voucher/addUsersVoucher",this.voucher,{headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}});u?(this.$root.$refs.MultipleUploads.sendFile(),this.$router.push("/my-wallet/")):n()("Error","Gutschein - Error2","Error")}catch(l){n()("Error","Gutschein - Error1","error"),console.log(l.response)}}},created(){let e=localStorage.getItem("jwt"),t=u.a.decode(e);this.user=t}},d=p,v=r("2877"),m=Object(v["a"])(d,a,l,!1,null,null,null),f=m.exports,b={components:{addvoucher:f}},g=b,y=Object(v["a"])(g,o,s,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0cc6b4.090fd49f.js.map