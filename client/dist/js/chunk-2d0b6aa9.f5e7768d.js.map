{"version":3,"sources":["webpack:///./src/pages/secure/AddBusinessVoucher.vue?c15c","webpack:///./src/components/profil/VoucherBusiness.vue?8f72","webpack:///src/components/profil/VoucherBusiness.vue","webpack:///./src/components/profil/VoucherBusiness.vue?887a","webpack:///./src/components/profil/VoucherBusiness.vue","webpack:///src/pages/secure/AddBusinessVoucher.vue","webpack:///./src/pages/secure/AddBusinessVoucher.vue?294a","webpack:///./src/pages/secure/AddBusinessVoucher.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","_s","user","name","staticStyle","on","$event","preventDefault","addBusinessVoucher","apply","arguments","attrs","voucher","options","model","value","callback","$$v","$set","expression","selectedCategory","expiryDate","data","text","price","userId","methods","token","localStorage","getItem","_id","response","$http","post","headers","voucherBusinessId","formData","FormData","axios","then","console","$router","push","swal","created","component","components"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,uBAAuB,IACnKG,EAAkB,GCDlB,EAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,uBAAuBR,EAAIS,GAAGR,KAAKS,KAAKC,MAAM,oDAAoDP,EAAG,SAAS,CAACE,YAAY,wCAAwCM,YAAY,CAAC,aAAa,OAAO,OAAS,OAAO,cAAc,oBAAoBC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBf,EAAIgB,mBAAmBC,MAAM,KAAMC,cAAc,CAACd,EAAG,gBAAgB,CAACe,MAAM,CAAC,GAAK,WAAW,QAAUnB,EAAIoB,QAAQC,SAASC,MAAM,CAACC,MAAOvB,EAAIoB,QAAwB,iBAAEI,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIoB,QAAS,mBAAoBK,IAAME,WAAW,8BAA8BvB,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACN,EAAIQ,GAAG,cAAcJ,EAAG,SAAS,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIoB,QAAQQ,uBAAuBxB,EAAG,UAAU,CAACE,YAAY,oBAAoBa,MAAM,CAAC,KAAO,OAAO,GAAK,OAAO,YAAc,gCAAgCG,MAAM,CAACC,MAAOvB,EAAIoB,QAAY,KAAEI,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIoB,QAAS,OAAQK,IAAME,WAAW,kBAAkBvB,EAAG,UAAU,CAACE,YAAY,oBAAoBa,MAAM,CAAC,KAAO,OAAO,GAAK,QAAQ,YAAc,iBAAiB,SAAW,IAAIG,MAAM,CAACC,MAAOvB,EAAIoB,QAAa,MAAEI,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIoB,QAAS,QAASK,IAAME,WAAW,mBAAmBvB,EAAG,oBAAoB,CAACE,YAAY,OAAOa,MAAM,CAAC,GAAK,cAAcG,MAAM,CAACC,MAAOvB,EAAIoB,QAAkB,WAAEI,SAAS,SAAUC,GAAMzB,EAAI0B,KAAK1B,EAAIoB,QAAS,aAAcK,IAAME,WAAW,wBAAwBvB,EAAG,IAAI,CAACJ,EAAIQ,GAAG,WAAWR,EAAIS,GAAGT,EAAIoB,QAAQS,YAAY,OAAOzB,EAAG,IAAI,CAACA,EAAG,SAAS,CAACA,EAAG,SAAS,CAACE,YAAY,sCAAsCa,MAAM,CAAC,KAAO,WAAW,CAACnB,EAAIQ,GAAG,+BAA+B,IAAI,IAAI,QACj1D,EAAkB,G,+DCiDP,GACbsB,OACE,MAAO,CACLV,QAASA,CACPQ,iBAAkBA,KAClBP,QAARA,CACA,CAAAE,WAAAQ,uDACA,CAAUR,MAAVA,IAAUQ,KAAVA,WACA,CAAUR,MAAVA,IAAUQ,KAAVA,UACA,CAAUR,MAAVA,IAAUQ,KAAVA,UACA,CAAUR,MAAVA,IAAUQ,KAAVA,WACA,CAAUR,MAAVA,IAAUQ,KAAVA,UAEQF,WAAYA,GACZlB,KAAMA,GACNqB,MAAOA,GACPC,OAAQA,MAIdC,QAASA,CACP,2BACE,IACE,IAAIC,EAAQC,aAAaC,QAAQ,OAC7BJ,EAAShC,KAAKS,KAAK4B,IACvBrC,KAAKmB,QAAQa,OAASA,EAEtB,IAAIM,QAAiBtC,KAAKuC,MAAMC,KAAK,8BAA+BxC,KAAKmB,QAAS,CAA1FsB,SACY,cAAiB,UAAYP,EAC7B,eAAgB,sBAKpB,GAAII,EAAU,CAEZ,IAAII,EAAoBJ,EAAST,KAAKA,KAAKQ,IAC3C,MAAMM,EAAW,IAAIC,SACrBD,EAASA,OAAOA,YAAaA,GAC7BA,EAASA,OAAOA,MAAOA,OAAOA,SAASA,MAEvCE,IAAMA,KAAKA,MAAOA,EAC5B,CACYJ,QAAZA,CACc,eAAd,yBAGAK,MAAA,YACYC,QAAZA,OACA,OAGcA,QAAdA,4BAFcA,QAAdA,sCAOU/C,KAAKgD,QAAQC,KAAK,YAAcP,EAAoB,WAAaV,QAGjEkB,IAAKA,QAASA,qBAAsBA,SAE9C,SACQA,IAAKA,QAASA,qBAAsBA,SACpCH,QAAQA,IAAIA,EAAIA,aAItBI,UACE,IAAJ,8BACA,gBACI,KAAJ,SCzHwW,I,YCOpWC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCVA,GACbC,WAAYA,CACVtC,uBCVuW,ICOvW,EAAY,eACd,EACAjB,EACAQ,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-2d0b6aa9.f5e7768d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addBusinessVoucher\"},[_c('addBusinessVoucher')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1\"},[_c('h3',[_vm._v(\"Partner User! Hallo \"+_vm._s(this.user.name)+\" - hier kannst du deine Gutscheine erstellen! \")]),_c('b-form',{staticClass:\"text-center border border-primary p-5\",staticStyle:{\"margin-top\":\"70px\",\"height\":\"auto\",\"padding-top\":\"100px !important\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.addBusinessVoucher.apply(null, arguments)}}},[_c('b-form-select',{attrs:{\"id\":\"category\",\"options\":_vm.voucher.options},model:{value:(_vm.voucher.selectedCategory),callback:function ($$v) {_vm.$set(_vm.voucher, \"selectedCategory\", $$v)},expression:\"voucher.selectedCategory\"}}),_c('div',{staticClass:\"mt-3\"},[_vm._v(\"Selected: \"),_c('strong',[_vm._v(_vm._s(_vm.voucher.selectedCategory))])]),_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"Gutschein-Name z.B. Buch 20€\"},model:{value:(_vm.voucher.name),callback:function ($$v) {_vm.$set(_vm.voucher, \"name\", $$v)},expression:\"voucher.name\"}}),_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"price\",\"placeholder\":\"Gutschein-Wert\",\"required\":\"\"},model:{value:(_vm.voucher.price),callback:function ($$v) {_vm.$set(_vm.voucher, \"price\", $$v)},expression:\"voucher.price\"}}),_c('b-form-datepicker',{staticClass:\"mb-2\",attrs:{\"id\":\"expiryDate\"},model:{value:(_vm.voucher.expiryDate),callback:function ($$v) {_vm.$set(_vm.voucher, \"expiryDate\", $$v)},expression:\"voucher.expiryDate\"}}),_c('p',[_vm._v(\"Value: '\"+_vm._s(_vm.voucher.expiryDate)+\"'\")]),_c('p',[_c('center',[_c('button',{staticClass:\"btn btn-primary btn-block w-75 my-4\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Gutschein gnerieren! \")])])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1\">\r\n        <h3>Partner User! Hallo {{this.user.name}} - hier kannst du deine Gutscheine erstellen! </h3>\r\n        <b-form\r\n          class=\"text-center border border-primary p-5\"\r\n          style=\"margin-top:70px;height:auto;padding-top:100px !important;\"\r\n          @submit.prevent=\"addBusinessVoucher\"\r\n        >\r\n          <b-form-select id=\"category\" v-model=\"voucher.selectedCategory\" :options=\"voucher.options\"></b-form-select>\r\n          <div class=\"mt-3\">Selected: <strong>{{ voucher.selectedCategory }}</strong></div>\r\n          \r\n          <b-input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"Gutschein-Name z.B. Buch 20€\"\r\n            v-model=\"voucher.name\"\r\n            \r\n          />\r\n          <b-input\r\n            type=\"text\"\r\n            id=\"price\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"Gutschein-Wert\"\r\n            v-model=\"voucher.price\"\r\n            required\r\n          />\r\n          <b-form-datepicker id=\"expiryDate\" v-model=\"voucher.expiryDate\" class=\"mb-2\"></b-form-datepicker>\r\n          <p>Value: '{{ voucher.expiryDate }}'</p>\r\n        \r\n          <p>\r\n            <center>\r\n            <button class=\"btn btn-primary btn-block w-75 my-4\" type=\"submit\">\r\n                Gutschein gnerieren!\r\n            </button>\r\n            </center>\r\n          </p>\r\n        </b-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from \"sweetalert\";\r\nimport axios from \"axios\";\r\nimport VueJwtDecode from \"vue-jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      voucher: {\r\n        selectedCategory: null,\r\n         options: [\r\n      { value: null, text: 'Um welchen Gutschein Kategorie handelt es sich' },\r\n          { value: '1', text: 'Massage' },\r\n          { value: '2', text: 'Bücher' },\r\n          { value: '3', text: 'Kultur' },\r\n          { value: '4', text: 'Basteln' },\r\n          { value: '5', text: 'Sport' },\r\n        ],\r\n        expiryDate: '',\r\n        name: \"\",\r\n        price: \"\",\r\n        userId: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async addBusinessVoucher() {\r\n      try {\r\n        let token = localStorage.getItem(\"jwt\");\r\n        let userId = this.user._id;\r\n        this.voucher.userId = userId;\r\n   \r\n        let response = await this.$http.post(\"/voucher/addBusinessVoucher\", this.voucher, {headers: {\r\n            'Authorization': 'Bearer ' + token,\r\n            'Content-Type': 'application/json',\r\n          }},\r\n        );\r\n     \r\n        //let token = response.data.token;\r\n        if (response) {\r\n         \r\n          let voucherBusinessId = response.data.data._id;\r\n          const formData = new FormData();\r\n          formData.append('voucherId', voucherBusinessId);\r\n          formData.append('url', window.location.host);\r\n  \r\n          axios.post('/qr', formData,\r\n          {\r\n              headers: {\r\n                  'Content-Type': 'multipart/form-data'\r\n              }\r\n          })\r\n          .then(function (response) {\r\n              console.log(response);\r\n              if (!response.data) {\r\n                  console.log('Problem by generate QR-Code');\r\n              } else {\r\n                  console.log('QR-Code was Generate');\r\n              }\r\n\r\n          })\r\n\r\n          this.$router.push(\"/company/\" + voucherBusinessId + \"/userid/\" + userId);\r\n            \r\n        } else {\r\n          swal(\"Error\", \"Gutschein - Error2\", \"Error\");\r\n        }\r\n      } catch (err) {\r\n        swal(\"Error\", \"Gutschein - Error1\", \"error\");\r\n        console.log(err.response);\r\n      }\r\n    }\r\n  },\r\n   created() {\r\n        let token = localStorage.getItem(\"jwt\");\r\n        let decoded = VueJwtDecode.decode(token);\r\n        this.user = decoded;\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoucherBusiness.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoucherBusiness.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoucherBusiness.vue?vue&type=template&id=8529a408&\"\nimport script from \"./VoucherBusiness.vue?vue&type=script&lang=js&\"\nexport * from \"./VoucherBusiness.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"addBusinessVoucher\">\r\n    <addBusinessVoucher />\r\n  </div>\r\n</template>\r\n<script>\r\nimport addBusinessVoucher from \"@/components/profil/VoucherBusiness\";\r\n\r\nexport default {\r\n  components: {\r\n    addBusinessVoucher\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddBusinessVoucher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddBusinessVoucher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddBusinessVoucher.vue?vue&type=template&id=ee563ef6&\"\nimport script from \"./AddBusinessVoucher.vue?vue&type=script&lang=js&\"\nexport * from \"./AddBusinessVoucher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}