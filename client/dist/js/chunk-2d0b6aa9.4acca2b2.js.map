{"version":3,"sources":["webpack:///./src/pages/secure/AddBusinessVoucher.vue?00e4","webpack:///./src/components/profil/VoucherBusiness.vue?faff","webpack:///src/components/profil/VoucherBusiness.vue","webpack:///./src/components/profil/VoucherBusiness.vue?887a","webpack:///./src/components/profil/VoucherBusiness.vue","webpack:///src/pages/secure/AddBusinessVoucher.vue","webpack:///./src/pages/secure/AddBusinessVoucher.vue?294a","webpack:///./src/pages/secure/AddBusinessVoucher.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","_s","user","name","on","$event","preventDefault","addBusinessVoucher","apply","arguments","attrs","model","value","voucher","callback","$$v","$set","expression","expiryDate","data","price","userId","methods","token","localStorage","getItem","_id","response","$http","post","headers","voucherBusinessId","formData","FormData","axios","then","console","o_additionalId","swal","created","component","components"],"mappings":"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","file":"js/chunk-2d0b6aa9.4acca2b2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"addBusinessVoucher\"},[_c('addBusinessVoucher')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1 mt-3\"},[_c('h3',[_vm._v(\"Partner User! Hallo \"+_vm._s(this.user.name)+\" - hier kannst du deine Gutscheine erstellen! \")]),_c('b-form',{staticClass:\"text-center border p-5 mt-5\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addBusinessVoucher.apply(null, arguments)}}},[_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"name\",\"placeholder\":\"Gutschein-Name z.B. Buch 20€\"},model:{value:(_vm.voucher.name),callback:function ($$v) {_vm.$set(_vm.voucher, \"name\", $$v)},expression:\"voucher.name\"}}),_c('b-input',{staticClass:\"form-control mb-5\",attrs:{\"type\":\"text\",\"id\":\"price\",\"placeholder\":\"Gutschein-Wert\",\"required\":\"\"},model:{value:(_vm.voucher.price),callback:function ($$v) {_vm.$set(_vm.voucher, \"price\", $$v)},expression:\"voucher.price\"}}),_c('b-form-datepicker',{staticClass:\"mb-2\",attrs:{\"id\":\"expiryDate\"},model:{value:(_vm.voucher.expiryDate),callback:function ($$v) {_vm.$set(_vm.voucher, \"expiryDate\", $$v)},expression:\"voucher.expiryDate\"}}),_c('p',[_vm._v(\"Value: '\"+_vm._s(_vm.voucher.expiryDate)+\"'\")]),_c('p',[_c('center',[_c('button',{staticClass:\"btn btn-primary btn-block w-75 my-4\",attrs:{\"type\":\"submit\"}},[_vm._v(\" Gutschein gnerieren! \")])])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-6 offset-lg-3 col-sm-10 offset-sm-1 mt-3\">\r\n        <h3>Partner User! Hallo {{this.user.name}} - hier kannst du deine Gutscheine erstellen! </h3>\r\n        <b-form\r\n          class=\"text-center border p-5 mt-5\"\r\n          @submit.prevent=\"addBusinessVoucher\"\r\n        >\r\n       \r\n          \r\n          <b-input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"Gutschein-Name z.B. Buch 20€\"\r\n            v-model=\"voucher.name\"\r\n            \r\n          />\r\n          <b-input\r\n            type=\"text\"\r\n            id=\"price\"\r\n            class=\"form-control mb-5\"\r\n            placeholder=\"Gutschein-Wert\"\r\n            v-model=\"voucher.price\"\r\n            required\r\n          />\r\n          <b-form-datepicker id=\"expiryDate\" v-model=\"voucher.expiryDate\" class=\"mb-2\"></b-form-datepicker>\r\n          <p>Value: '{{ voucher.expiryDate }}'</p>\r\n        \r\n          <p>\r\n            <center>\r\n            <button class=\"btn btn-primary btn-block w-75 my-4\" type=\"submit\">\r\n                Gutschein gnerieren!\r\n            </button>\r\n            </center>\r\n          </p>\r\n        </b-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport swal from \"sweetalert\";\r\nimport axios from \"axios\";\r\nimport VueJwtDecode from \"vue-jwt-decode\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      voucher: {\r\n\r\n        expiryDate: '',\r\n        name: \"\",\r\n        price: \"\",\r\n        userId: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    async addBusinessVoucher() {\r\n      try {\r\n        let token = localStorage.getItem(\"jwt\");\r\n        let userId = this.user._id;\r\n        this.voucher.userId = userId;\r\n\r\n        let response = await this.$http.post(\"/voucher/addBusinessVoucher\", this.voucher, {headers: {\r\n            'Authorization': 'Bearer ' + token,\r\n            'Content-Type': 'application/json',\r\n          }},\r\n        );\r\n       \r\n    \r\n        if (response) {\r\n          let voucherBusinessId = response.data.data._id;\r\n          const formData = new FormData();\r\n          formData.append('voucherId', voucherBusinessId);\r\n          formData.append('url', window.location.host);\r\n    \r\n          axios.post('/qr', formData,\r\n          {\r\n              headers: {\r\n                  'Content-Type': 'multipart/form-data'\r\n              }\r\n          })\r\n          .then(function (response) {\r\n    \r\n              if (!response.data) {\r\n                  console.log('Problem by generate QR-Code');\r\n              } else {\r\n                  console.log('QR-Code was Generate');\r\n              }\r\n          })\r\n\r\n          let o_additionalId = await this.$http.post(\"/user/getAdditionalId\", {userId}, {headers: {\r\n                'Authorization': 'Bearer ' + token,\r\n                'Content-Type': 'application/json',\r\n                }},\r\n          );\r\n\r\n          if (o_additionalId) {\r\n              let currentAdditionalId = o_additionalId.data.o_additional[0].additionalId;\r\n              this.$router.push(\"/company/\" + currentAdditionalId + \"/userid/\" + userId);\r\n          }\r\n        } else {\r\n          swal(\"Error\", \"Gutschein - Error2\", \"Error\");\r\n        }\r\n      } catch (err) {\r\n        swal(\"Error\", \"Gutschein - Error1\", \"error\");\r\n        console.log(err.response);\r\n      }\r\n    }\r\n  },\r\n   created() {\r\n        let token = localStorage.getItem(\"jwt\");\r\n        let decoded = VueJwtDecode.decode(token);\r\n        this.user = decoded;\r\n    }\r\n};\r\n</script>\r\n\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoucherBusiness.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VoucherBusiness.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VoucherBusiness.vue?vue&type=template&id=ca0329b8&\"\nimport script from \"./VoucherBusiness.vue?vue&type=script&lang=js&\"\nexport * from \"./VoucherBusiness.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"addBusinessVoucher\">\r\n    <addBusinessVoucher />\r\n  </div>\r\n</template>\r\n<script>\r\nimport addBusinessVoucher from \"@/components/profil/VoucherBusiness\";\r\n\r\nexport default {\r\n  components: {\r\n    addBusinessVoucher\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddBusinessVoucher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddBusinessVoucher.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddBusinessVoucher.vue?vue&type=template&id=ee563ef6&\"\nimport script from \"./AddBusinessVoucher.vue?vue&type=script&lang=js&\"\nexport * from \"./AddBusinessVoucher.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}